!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],t):t(e.dataTool={},e.echarts)}(this,function(e,t){"use strict";function r(e,t,r){if(e&&t){if(e.map&&e.map===f)return e.map(t,r);for(var n=[],a=0,o=e.length;a<o;a++)n.push(t.call(r,e[a],a,e));return n}}function n(e){return e?r(u(e,"attribute"),function(e){return{id:i(e,"id"),title:i(e,"title"),type:i(e,"type")}}):[]}function a(e,t){return e?r(u(e,"node"),function(e){var r={id:i(e,"id"),name:i(e,"label"),itemStyle:{normal:{}}},n=l(e,"viz:size"),a=l(e,"viz:position"),o=l(e,"viz:color"),s=l(e,"attvalues");if(n&&(r.symbolSize=parseFloat(i(n,"value"))),a&&(r.x=parseFloat(i(a,"x")),r.y=parseFloat(i(a,"y"))),o&&(r.itemStyle.normal.color="rgb("+[0|i(o,"r"),0|i(o,"g"),0|i(o,"b")].join(",")+")"),s){var f=u(s,"attvalue");r.attributes={};for(var c=0;c<f.length;c++){var p=f[c],v=i(p,"for"),g=i(p,"value"),d=t[v];if(d){switch(d.type){case"integer":case"long":g=parseInt(g,10);break;case"float":case"double":g=parseFloat(g);break;case"boolean":g="true"==g.toLowerCase()}r.attributes[v]=g}}}return r}):[]}function o(e){return e?r(u(e,"edge"),function(e){var t={id:i(e,"id"),name:i(e,"label"),source:i(e,"source"),target:i(e,"target"),lineStyle:{normal:{}}},r=t.lineStyle.normal,n=l(e,"viz:thickness"),a=l(e,"viz:color");return n&&(r.width=parseFloat(n.getAttribute("value"))),a&&(r.color="rgb("+[0|i(a,"r"),0|i(a,"g"),0|i(a,"b")].join(",")+")"),t}):[]}function i(e,t){return e.getAttribute(t)}function l(e,t){for(var r=e.firstChild;r;){if(1==r.nodeType&&r.nodeName.toLowerCase()==t.toLowerCase())return r;r=r.nextSibling}return null}function u(e,t){for(var r=e.firstChild,n=[];r;)r.nodeName.toLowerCase()==t.toLowerCase()&&n.push(r),r=r.nextSibling;return n}function s(e){return e.sort(function(e,t){return e-t}),e}var f=Array.prototype.map,c=(Object.freeze||Object)({parse:function(e){var t;if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;var r=l(t,"gexf");if(!r)return null;for(var i=l(r,"graph"),u=n(l(i,"attributes")),s={},f=0;f<u.length;f++)s[u[f].id]=u[f];return{nodes:a(l(i,"nodes"),s),links:o(l(i,"edges"))}}}),p=function(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),a=+e[n-1],o=r-n;return o?a+o*(e[n]-a):a},v=function(e,t){for(var r=[],n=[],a=[],o=(t=t||[]).boundIQR,i="none"===o||0===o,l=0;l<e.length;l++){a.push(l+"");var u=s(e[l].slice()),f=p(u,.25),c=p(u,.5),v=p(u,.75),g=u[0],d=u[u.length-1],h=(null==o?1.5:o)*(v-f),b=i?g:Math.max(g,f-h),m=i?d:Math.min(d,v+h);r.push([b,f,c,v,m]);for(var y=0;y<u.length;y++){var x=u[y];if(x<b||x>m){var w=[l,x];"vertical"===t.layout&&w.reverse(),n.push(w)}}}return{boxData:r,outliers:n,axisData:a}};t.$inject.dataTool({version:"1.0.0",gexf:c,prepareBoxplotData:v}),e.version="1.0.0",e.gexf=c,e.prepareBoxplotData=v});
